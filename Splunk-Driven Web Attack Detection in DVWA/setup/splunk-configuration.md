# Splunk Installation and DVWA Log Ingestion on Ubuntu

This guide walks you through installing Splunk on Ubuntu and configuring it to ingest DVWA logs from Apache.

---

## 🛠️ Step 1: Install Splunk on Ubuntu

### 1.1 Download Splunk (Free or Enterprise Trial)

```bash
wget -O splunk.deb 'https://download.splunk.com/products/splunk/releases/9.2.1/linux/splunk-9.2.1-#######-linux-2.6-amd64.deb'
```

> Downloads the Splunk installation package.

### 1.2 Install Splunk

```bash
sudo dpkg -i splunk.deb
```

> Installs Splunk using the Debian package manager.

### 1.3 Enable and Start Splunk

```bash
sudo /opt/splunk/bin/splunk enable boot-start
sudo /opt/splunk/bin/splunk start
```

> Enables Splunk to start on boot and launches Splunk for the first time.

✅ On the first run, accept the license agreement and set your admin username and password.

### 1.4 Access Splunk UI

Open your browser and go to:

```
http://localhost:8000
```

> You should see the Splunk login page.

---

## 🔁 Reopen Splunk After Reboot

### 1. Start Splunk Manually

```bash
sudo /opt/splunk/bin/splunk start
```

> Starts the Splunk service.

### 2. Access the Web Interface Again

```
http://localhost:8000
```

Or, from another machine:

```
http://<Ubuntu-IP>:8000
```

---

## 📥 Step 2: Ingest DVWA Logs into Splunk

DVWA logs its activities to Apache log files. We will now configure Splunk to ingest those logs.

### 2.1 Apache Log File Paths (Default)

* **Access Logs**: `/var/log/apache2/access.log`
* **Error Logs**: `/var/log/apache2/error.log`

> These logs contain DVWA request and error events.

### 2.2 Add Apache Logs to Splunk Inputs

1. Open Splunk in your browser:

```
http://localhost:8000
```

2. Navigate to:

```
Settings > Data Inputs > Files & Directories
```

3. Click **"Add new"** and enter the following paths:

```
/var/log/apache2/access.log
/var/log/apache2/error.log
```

4. Assign the following:

* **Source Type**: `apache:access`
* **Index**: `main`

✅ Now, all HTTP requests and errors generated by DVWA will be monitored in real-time by Splunk.
